{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/web-storage-api-sketchnote","result":{"data":{"markdownRemark":{"frontmatter":{"title":"[Sketchnote] Web Storage APIs: How Browsers Store Data","date":"November 29th, 2020"},"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/435c1f716267152fb5051a121aea1a95/09262/web-storage-sketchnote.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 129%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAC4jAAAuIwF4pT92AAAEFElEQVRIx3VVh27rSAz0/39bHpBckhc7jm1Zzeq9tzkOZSUODrcAsSrLITksu1uWBRTgR9IkwdvrKy4XA09PT3jV5wvO5xMs28HcFVjyK+bKR9u2mKYJ8zwrzu6/gDOKLMFhv4dpmnh5ecGfP3+wl3fP8+D5PpahBhof6BLUVYm6rhWYoDvcVzcBXgW4JWBlK/Q0jRjHEcMwqFBhHAfE1Qw7B4wESBtxaB7vTgG7pmmQpin8KMHeCHB2U7wbMVwvkO8JfiKAnsuyFLeoxMEM8W5V+LQzZEmEWGii0V3f90jkxTAu+Po8IPBvsE1DwWhs44grz3PYto0w8HBzLBEb59MJURTp9ziOseNhKpIfWwgneJKkCMNw5UzkEdBxHBXTshTEkp3Cf1VVrSHzx8fHhxL/9vYm3hqakMPhoP+2VZYlnp+fcTwe9bsvCQqCQD283W4rh+SHWaJV13X1ALkgFV3XaVLo4XIHtCxblSn0iLxyL4pCz+42hcc1TTPmqUeb+wijWMMPfOHNdYQ/H56AsS5JT5ZlCkpjxFEPWQoMnZboVV03ajGOQvU4EbK9MIHtp4iyBlnBc60a1rWIA7NEIWHs+JEAzJx5vSjQ+esgz4YQzTAmVQjLGXtvgBHPWnuTOEGqmqZF3S9oBkVeC7sSQOv0jti7SvaEo8s7AteE4wpPEkoSh1oSnndTI0VRynukybiKYSNZ4JX4SUohSubXX0TGMxzzAt/6RHgzcTUtDH0rpHbaNYvwOo+SqKH7Ttow9OLt2k2aFLZTKz/KslDSbduCIUMgEQ9oaJ7X8MJygjQFzBQIq7Xv1xHAfb531LwWNkEnESamFk4IRC45KEj+KNbzZoKXDQhy9vJ07/Ee/ThjkNwwsTOnDYlllZOfIIyRSIRJKe7XEeY2Q9vUGESpk73MU5lEKZq6klKKtJROVgSvEGeKWGgYfjykd5x3t5unNWYaX1pGXPRwW5HUpGObupvGWUB9DLXwsKzF/z2+2rZDEnpIIg+xbyPwHPWci4RvU8eWpNnnv7pbx38ky1d0bXOvReFwm3UMPctyJFmBKC21+mvxmlxtLcjJQyM5iz4tdGcU47Ryqlkm+Wwtii39nEnRRmKQPPV1jpFZntb25Mxj54SxzEBhof/dsT91yGq3ZAa6Mt8cy4B9PWmmubQCpnUiu8KdY56VQ1MagU7o8L3ToXcKlVgq1nkP373CunzqcxQnD4CTlpVxPgrQB4zLCZfP11+j7fsKWJUm9ZItRR5pgDW2AZKbLTn1/VzXr92xgX0DcmOnMExm1r6eYV6OqvQIyI5h/+ZyI1Zy00UyTJgg/v/l4Tpg5Qpw5a6QQvVvrnBpIpU59xtw1guqqUsFrKvi/wF/C+6yfB/clJTLB3kE287/CxQ4yoVQsDAnAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"A sketchnote about localStorage and sessionStorage\"\n        title=\"A sketchnote about localStorage and sessionStorage\"\n        src=\"/static/435c1f716267152fb5051a121aea1a95/5a190/web-storage-sketchnote.png\"\n        srcset=\"/static/435c1f716267152fb5051a121aea1a95/772e8/web-storage-sketchnote.png 200w,\n/static/435c1f716267152fb5051a121aea1a95/e17e5/web-storage-sketchnote.png 400w,\n/static/435c1f716267152fb5051a121aea1a95/5a190/web-storage-sketchnote.png 800w,\n/static/435c1f716267152fb5051a121aea1a95/c1b63/web-storage-sketchnote.png 1200w,\n/static/435c1f716267152fb5051a121aea1a95/29007/web-storage-sketchnote.png 1600w,\n/static/435c1f716267152fb5051a121aea1a95/09262/web-storage-sketchnote.png 1896w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Browsers have two built-in ways to store data: <code class=\"language-text\">sessionStorage</code> and <code class=\"language-text\">localStorage</code>.</p>\n<blockquote>\n<p>⚠️ Don't use either for sensitive information (passwords, credit cards, etc.), since both are vulerable to XSS attacks!</p>\n</blockquote>\n<h2 id=\"sessionstorage\" style=\"position:relative;\"><a href=\"#sessionstorage\" aria-label=\"sessionstorage permalink\" class=\"header-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">sessionStorage</code></h2>\n<ul>\n<li>Data stored there is cleared when the page session ends (i.e., the browser tab/window closes).</li>\n<li>Each tab has its own <code class=\"language-text\">sessionStorage</code> object, independent from the one in other tabs.</li>\n</ul>\n<h2 id=\"localstorage\" style=\"position:relative;\"><a href=\"#localstorage\" aria-label=\"localstorage permalink\" class=\"header-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">localStorage</code></h2>\n<ul>\n<li>\n<p>Data stored there has no expiration time.</p>\n<ul>\n<li><strong>Exception</strong>: If you're in a private tab, then <code class=\"language-text\">localStorage</code> is cleared when the last private tab is closed.</li>\n</ul>\n</li>\n<li>Storage object is specific to the protocol. (HTTP object is separate from HTTPS.)</li>\n</ul>\n<h2 id=\"common-api\" style=\"position:relative;\"><a href=\"#common-api\" aria-label=\"common api permalink\" class=\"header-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Common API</h2>\n<p><code class=\"language-text\">sessionStorage</code> and <code class=\"language-text\">localStorage</code> both implement the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Storage\">Storage interface</a>.</p>\n<p>Both objects contain a key-value store, which is where data is kept. The keys and values are both type <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DOMString\"><code class=\"language-text\">DOMString</code></a>.</p>\n<h3 id=\"properties\" style=\"position:relative;\"><a href=\"#properties\" aria-label=\"properties permalink\" class=\"header-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Properties</h3>\n<ul>\n<li>\n<p><code class=\"language-text\">.length</code> - The number of entries in the Storage object's key-value store.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> numEntries <span class=\"token operator\">=</span> sessionStorage<span class=\"token punctuation\">.</span>length</code></pre></div>\n</li>\n</ul>\n<h3 id=\"methods\" style=\"position:relative;\"><a href=\"#methods\" aria-label=\"methods permalink\" class=\"header-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Methods</h3>\n<ul>\n<li>\n<p><code class=\"language-text\">.setItem(key, value)</code> - Adds the key-value pair to the store.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"value\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">.getItem(key)</code> - Retrieves the value for the specified key. (Returns <code class=\"language-text\">null</code> if the key doesn't exist.)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> username <span class=\"token operator\">=</span> sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">.removeItem(key)</code> - Removes the key-value pair for the specified key. (If the key doesn't exist, nothing happens.)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">removeItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">.clear()</code> - Removes all key-value pairs from the store.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"additional-resources\" style=\"position:relative;\"><a href=\"#additional-resources\" aria-label=\"additional resources permalink\" class=\"header-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Additional Resources</h2>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage\"><code class=\"language-text\">Window.sessionStorage</code></a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\"><code class=\"language-text\">Window.localStorage</code></a></li>\n</ul>","timeToRead":2}},"pageContext":{"slug":"web-storage-api-sketchnote"}},"staticQueryHashes":[]}